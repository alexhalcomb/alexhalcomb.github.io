<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Using Satellite Imagery to Identify Solar Panels by alexhalcomb</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Using Satellite Imagery to Identify Solar Panels</h1>
      <h2 class="project-tagline">Capstone Project for General Assembly Data Science Immersive</h2>
    </section>

    <section class="main-content">
      <h1>
<a id="business-problem" class="anchor" href="#business-problem" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Business Problem:</h1>

<p>Over the last decade, U.S. residential and commercial solar panel installations have grown dramatically. This is in large part due to the growing concerns regarding climate change, but also because of lower costs. Solar installation costs have fallen over 70% in the last 10 years and continue to improve. </p>

<p>Chart</p>

<p>The full extent of this growth, however, is not well understood as the data for residential and commercial solar installations is typically reported only at the level of the state. Having a more granular dataset would benefit a number of parties, including utilities, policy makers, and solar developers. Utilities, in particular, will face many challenges safely integrating such a high amount of distributed generation and therefore will benefit greatly from understanding the magnitude and distribution of these resources. </p>

<p>The goal of this project is to apply machine learning techniques to high resolution satellite imagery in order to identify where solar panels are installed. </p>

<h1>
<a id="description-of-data" class="anchor" href="#description-of-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Description of Data</h1>

<p>In this analysis, I will utilize a dataset created by the Energy Data Analytics Lab at Duke University. The dataset contains geospatial data and border vertices for over 19,000 solar panels, located in the California cities of Fresno, Stockton, Oxnard, and Modesto. The satellite images are part of the USGS collection of High Resolution Orthoimagery (HRO). The majority of the raw images are 5000x5000 pixels, at a resolution of 0.3m/pixel. Although the USGS High Resolution database does not encompass the entire U.S., it does cover many urban areas in the country and continues to grow as the agency acquires new data.  </p>

<p>The full dataset of images and annotations can be found <a href="https://figshare.com/collections/Full_Collection_Distributed_Solar_Photovoltaic_Array_Location_and_Extent_Data_Set_for_Remote_Sensing_Object_Identification/3255643/1">here</a>. </p>

<h1>
<a id="dataset-analysis" class="anchor" href="#dataset-analysis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dataset Analysis</h1>

<p><img src="DSI-Capstone-Project/assets/solar-price-installation-chart.jpg" alt="TBD">.
<img src="https://github.com/alexhalcomb/DSI-Capstone-Project/assets/solar-price-installation-chart.jpg" alt="TBD">
<img src="https://github.com/solar-price-installation-chart.jpg" alt="TBD">
<img src="https://github.com/alexhalcomb/DSI-Capstone-Project/blob/master/assets/solar-price-installation-chart.jpg/">
<img src="https://github.com/alexhalcomb/DSI-Capstone-Project/blob/master/assets/solar-price-installation-chart.jpg">
<img src="https://github.com/alexhalcomb/DSI-Capstone-Project/blob/master/assets/solar-price-installation-chart.jpg" alt="TBD"></p>

<h1>
<a id="section-4-segment-feature-extraction" class="anchor" href="#section-4-segment-feature-extraction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Section 4: Segment Feature Extraction</h1>

<p>Feature extraction is a key component of image analysis and object detection. I aim to classify segments or superpixels and will therefore calculate features based on these regions of pixels, rather than the pixels themselves. Once a feature set is established, I will then be able to train a classifier to identify regions that are best representative of solar panels. </p>

<p>In this analysis, features will mostly consist of summary statistics for each color channel (e.g. mean, min, max, variance) but will also include other descriptive values such as area and perimeter.</p>

<h1>
<a id="section-5-building-a-dataset" class="anchor" href="#section-5-building-a-dataset" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Section 5: Building a Dataset</h1>

<p>With the feature extraction functions in place, the next step in the processing pipeline is to define the regions containing solar panels and the regions without any solar panels. Once this mask is defined, features can be calculated, assigned a class, and aggregated together in order to train a classifier. </p>

<h1>
<a id="section-6-classification" class="anchor" href="#section-6-classification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Section 6: Classification</h1>

<h3>
<a id="logistic-regression" class="anchor" href="#logistic-regression" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Logistic Regression</h3>

<p>Many of the features in this dataset are identical (e.g. min, max, mean) but for the color channel. As a result, there is inherent colinearity between many of the predictors. This can be problematic in linear/logistic regression, so I am including a regularization penalty to "denoise" the coefficients attributable to each feature. </p>

<h3>
<a id="random-forest" class="anchor" href="#random-forest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Random Forest</h3>

<p>Decision tree models are comprised of a series of nodes, or decisions, where an element of the data is tested e.g. is element x &gt; 5. These tests are derived by evaluating how effective they are at dividing the data into homogenous groups. Once this series of tests have been established, they can be used for classification or regression. </p>

<p>A Random Forest is simply a collection of decision tree models, with each decision tree fit on a random sample of the data. By using many decision trees on multiple versions of the dataset, overfitting can be avoided. This reduces model variance significantly with only a small increase in bias. </p>

<p>Random Forests are especially good at interpreting high dimensional data and non-linear relationships, which makes it quite suitable for image analysis and object classification tasks. </p>

<h3>
<a id="results" class="anchor" href="#results" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Results</h3>

<p>The Receiver Operating Characteristic curve measures the True Positive Rate or Recall (TP / TP + FN) against the False Positive Rate (FP / FP + TN). There is a tradeoff between and the two and plotting the ROC is a helpful way to analyze the effectiveness of a classifier. </p>

<p>In this analysis, the True Positive Rate measures how many solar panels are being correctly classified, out of the total number of solar panels in the image. As this ratio increases, however, the number of non panel regions that are being misclassified as solar panels also increases. The AUC, or Area Under the Curve, is a common way to quantify this tradeoff. An AUC of 1 reflects perfect classification.</p>

<p>The Precision Recall curve is closely related to the ROC curve in that both reflect tradeoffs. Instead of the False Positive Rate, however, Recall is compared to Precision which measures the number of true positives out of total positive predictions (TP / TP + FP). </p>

<h3>
<a id="misclassified" class="anchor" href="#misclassified" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Misclassified</h3>

<p>Around 20% of the solar panels are being misclassified as 'not a solar panel' using the current model. I will examine the false negatives with the lowest predicted probabilities in order to better understand where the model is failing the worst.</p>

<h1>
<a id="section-7-conclusion-and-next-steps" class="anchor" href="#section-7-conclusion-and-next-steps" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Section 7: Conclusion and Next Steps</h1>

<p>There are a number of areas for further improvement. Specifically, it's clear that there two types of solar panels that have proven difficult to detect. Panels that appear very light in color, and those that show significant grid lines. In the first instance, the panels tend to blend in with the roof of the building and are therefore difficult to distinguish. In the second case, the color values and variance are skewed relative to the rest of the dataset.</p>

<p>The end goal for this project is to classify solar panels in images that have not been annotated. I have begun the process of generalizing this framework to images 'in the wild'. Steps will include reading a new image in, segmenting into regions, classifying all regions, and comparing positive classifications against ground truth data. </p>

<p>The key challenges will be as follows:</p>

<ul>
<li>Good segmentation: Ensuring that the entirety of a solar panel is included in its own region. Will require fine tuning of segmentation algorithm parameters and potentially pre-segmentation processing (filters, denoising, etc.)</li>
<li>Model --&gt; Real World: Bridging the gap between the data that the classifier trained on and what will be outputted from a new image. Specifically, solar panel annotations in the training set do not necessarily match up with what a segmentation algorithm will extract. </li>
</ul>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
